#!/command/with-contenv sh
# FFW SG2 Follower AI service finish script
# Uses reusable ROS2 service template

set -e

SERVICE_NAME="ffw_sg2_follower_ai"
COMMON_SCRIPT="/usr/local/lib/s6-services/ros2_service_finish.sh"

if [ -f "${COMMON_SCRIPT}" ]; then
    # Use env to explicitly pass variables to the script
    # The with-contenv wrapper will preserve these variables
    exec /command/with-contenv env SERVICE_NAME="${SERVICE_NAME}" sh "${COMMON_SCRIPT}" "$@"
else
    echo "Error: Common script not found at ${COMMON_SCRIPT}" >&2
    exit 1
fi
